---
tags:
  - type: editor
title: How to upgrade Tiptap v2 to v3
meta:
  title: Upgrade v2 to v3 | Tiptap Collaboration Docs
  description: Upgrade your Tiptap v2 project to version 3. Learn about the changes and how to migrate your project.
  category: Collaboration
---

# Tiptap v3 Migration Guide

Tiptap V3 is a major update update with breaking changes. This guide will help you upgrade your Tiptap V2 project to version 3.

## Breaking Changes

### Package Changes

- UMD builds removed (now using tsup)
- New required dependency: `@floating-ui/dom`

### Menu Systems

Tippy.js replaced with Floating UI:

- Remove `tippyOptions` from `FloatingMenu` and `BubbleMenu`
- Update to new options format
- Affects: `floating-menu`, `bubble-menu`, `mention`, `suggestion` extensions

Example:

Before:

```tsx
import { BubbleMenu } from '@tiptap/react'

<BubbleMenu tippyOptions={{ duration: 100 }}>
```

After:

```tsx
import { BubbleMenu } from '@tiptap/react/menus'

<BubbleMenu options={{
  middleware: [offset(6)],
  placement: 'top'
}}>
```

### API Changes

#### Text Style Updates

- `mergeNestedSpanStyles` defaults to `true`
- Added new extensions:
  - `font-size`
  - `background-color`
  - `line-height`

#### Command Changes

- `clearContent` and `setContent` emit updates by default
- `setContent` signature changed to: `(content, options)`
- Modified `insertContent` behavior to prevent splitting text nodes

#### NodeView Changes

- `getPos` in `NodeViewRendererProps` can be undefined

```ts
// Before
const pos = nodeViewProps.getPos()

// After
const pos = nodeViewProps.getPos()
if (pos !== undefined) {
  // use pos
}
```

### Removed Features

- `editor.getCharacterCount()` removed
- `considerAnyAsEmpty` removed from placeholder extension

## New Features

- `@tiptap/extensions` package for utilities
- Improved server-side rendering
- New delete event tracking
- Mark views for React & Vue 3
- HTML parsing using happy-dom-without-node
- New node/mark attribute validation

## StarterKit Updates

Now includes by default:

- Link
- ListKeymap
- Underline

## Migration Steps

1. Update dependencies
2. Review menu implementations
3. Update NodeView implementations
4. Remove redundant StarterKit extensions
5. Update command calls

For detailed configuration options, see the [Tiptap documentation](https://tiptap.dev/docs).
